{"ast":null,"code":"import { HttpEventType, HttpResponse } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/shared/service/student/student-info.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction UploadStudentDataComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"width\", ctx_r0.progress + \"%\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Progress: \", ctx_r0.progress, \"% \");\n  }\n}\nfunction UploadStudentDataComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelement(1, \"i\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.message, \" \");\n  }\n}\nexport let UploadStudentDataComponent = /*#__PURE__*/(() => {\n  var _class;\n  class UploadStudentDataComponent {\n    constructor(studentInfoService) {\n      this.studentInfoService = studentInfoService;\n      this.progress = 0;\n      this.message = '';\n    }\n    onFileSelected(event) {\n      this.progress = 0;\n      this.message = '';\n      this.selectedFile = event.target.files[0];\n    }\n    upload() {\n      this.progress = 0;\n      if (this.selectedFile) {\n        this.studentInfoService.uploadFile(this.selectedFile).subscribe({\n          next: event => {\n            if (event.type === HttpEventType.UploadProgress) {\n              this.progress = Math.round(100 * event.loaded / event.total);\n            } else if (event instanceof HttpResponse) {\n              this.message = 'File uploaded successfully!';\n            }\n          },\n          error: err => {\n            console.error('Error:', err);\n            this.progress = 0;\n            this.message = 'Upload Failed: The Excel file contains invalid data, ensure all the required fields are filled correctly. Refer to the sample template for guidance.';\n          }\n        });\n      }\n    }\n  }\n  _class = UploadStudentDataComponent;\n  _class.ɵfac = function UploadStudentDataComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.StudentInfoService));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-upload-student-data\"]],\n    decls: 17,\n    vars: 2,\n    consts: [[1, \"bodyo\"], [1, \"card\", 2, \"margin\", \"20px\"], [1, \"card-body\"], [1, \"container-fluid\"], [1, \"form-group\"], [\"for\", \"excelUpload\"], [\"type\", \"file\", \"id\", \"excelUpload\", \"accept\", \".xls,.xlsx\", 1, \"form-control\", 3, \"change\"], [1, \"button-container\"], [\"type\", \"button\", 1, \"btn-upload\", 3, \"click\"], [\"class\", \"progress-bar\", 4, \"ngIf\"], [\"class\", \"message\", 4, \"ngIf\"], [1, \"download-template-link\"], [\"href\", \"assets/Sample_Template.xlsx\", \"download\", \"SampleTemplate.xlsx\"], [1, \"progress-bar\"], [1, \"progress-bar-inner\"], [1, \"message\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-exclamation-circle\"]],\n    template: function UploadStudentDataComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"form\")(5, \"div\", 4)(6, \"label\", 5);\n        i0.ɵɵtext(7, \"Upload Excel File\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"input\", 6);\n        i0.ɵɵlistener(\"change\", function UploadStudentDataComponent_Template_input_change_8_listener($event) {\n          return ctx.onFileSelected($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function UploadStudentDataComponent_Template_button_click_10_listener() {\n          return ctx.upload();\n        });\n        i0.ɵɵtext(11, \"Upload\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(12, UploadStudentDataComponent_div_12_Template, 3, 3, \"div\", 9);\n        i0.ɵɵtemplate(13, UploadStudentDataComponent_div_13_Template, 3, 1, \"div\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 11)(15, \"a\", 12);\n        i0.ɵɵtext(16, \"Download Sample Template\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngIf\", ctx.progress);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.message);\n      }\n    },\n    dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm],\n    styles: [\"form[_ngcontent-%COMP%]{margin:20px;padding:20px;border:1px solid #ddd;border-radius:5px;background-color:#f9f9f9}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{border:1px solid #ccc;display:block;width:30%;padding:10px;border-radius:4px;box-sizing:border-box}q[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{text-align:left}.btn-upload[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;font-size:16px}.btn-upload[_ngcontent-%COMP%]:hover{background-color:#0056b3}.download-template-link[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.progress-bar[_ngcontent-%COMP%]{width:100%;background-color:#e6e6e6;border-radius:8px;box-shadow:0 2px 4px #0003;margin:15px 0;overflow:hidden}.progress-bar-inner[_ngcontent-%COMP%]{height:25px;border-radius:8px;background-color:#4caf50;width:0;transition:width .7s ease;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}.message[_ngcontent-%COMP%]{margin-top:15px;padding:12px 20px;border-radius:8px;font-size:18px;font-weight:700;color:#4a4a4a;background-color:#f0f0f0;border-left:5px solid #007bff;box-shadow:0 3px 6px #0000001a;text-align:left;transition:all .3s ease-in-out}.message[_ngcontent-%COMP%]:hover{box-shadow:0 5px 10px #00000026;background-color:#e9e9e9}.download-template-link[_ngcontent-%COMP%]{text-align:right;margin-top:20px;margin-right:10px}.download-template-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;font-size:16px;border-bottom:1px dashed #007bff;padding-bottom:2px;transition:all .3s ease-in-out}.download-template-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .download-template-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#0056b3;border-bottom:1px solid #0056b3;text-decoration:none}\"]\n  });\n  return UploadStudentDataComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}