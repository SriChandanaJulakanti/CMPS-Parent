{"ast":null,"code":"var _class;\nimport { EventEmitter } from '@angular/core';\nimport html2canvas from 'html2canvas';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/service/student/student-info.service\";\nimport * as i2 from \"ngx-bootstrap/modal\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = [\"balanceSheetModal\"];\nfunction BalanceSheetComponent_ng_template_0_span_53_tbody_16_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"b\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.key);\n  }\n}\nfunction BalanceSheetComponent_ng_template_0_span_53_tbody_16_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 30);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 30);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 30);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 30);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 30);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const course_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(course_r9.value[\"courseName\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(course_r9.value[\"courseId\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(course_r9.value[\"hours\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(course_r9.value[\"grade\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(course_r9.value[\"semester\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(course_r9.value[\"year\"]);\n  }\n}\nfunction BalanceSheetComponent_ng_template_0_span_53_tbody_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, BalanceSheetComponent_ng_template_0_span_53_tbody_16_tr_1_Template, 3, 1, \"tr\", 36);\n    i0.ɵɵtemplate(2, BalanceSheetComponent_ng_template_0_span_53_tbody_16_tr_2_Template, 13, 6, \"tr\", 35);\n    i0.ɵɵpipe(3, \"keyvalue\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r5.value.length !== 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 2, item_r5.value));\n  }\n}\nfunction BalanceSheetComponent_ng_template_0_span_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 28)(1, \"table\", 29)(2, \"thead\")(3, \"tr\", 30)(4, \"th\", 31);\n    i0.ɵɵtext(5, \"COURSE TITLE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 32);\n    i0.ɵɵtext(7, \"CS No\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 33);\n    i0.ɵɵtext(9, \"HR\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 34);\n    i0.ɵɵtext(11, \"GR\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 34);\n    i0.ɵɵtext(13, \"SEM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 34);\n    i0.ɵɵtext(15, \"YR\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(16, BalanceSheetComponent_ng_template_0_span_53_tbody_16_Template, 4, 4, \"tbody\", 35);\n    i0.ɵɵpipe(17, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const eachConc_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(17, 1, eachConc_r3, ctx_r2.keepOrder));\n  }\n}\nfunction BalanceSheetComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function BalanceSheetComponent_ng_template_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.hide());\n    });\n    i0.ɵɵelementStart(1, \"span\", 2);\n    i0.ɵɵtext(2, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"span\", 7)(8, \"b\");\n    i0.ɵɵtext(9, \"Southern University Department of Computer Science\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 6)(11, \"span\", 8)(12, \"a\");\n    i0.ɵɵelement(13, \"img\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"span\", 10)(15, \"b\");\n    i0.ɵɵtext(16, \"Bachelor of Science in Computer Science\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 6)(18, \"span\", 11)(19, \"b\");\n    i0.ɵɵtext(20, \"2018-2021 Balance Sheet\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵelementStart(22, \"div\", 6)(23, \"span\", 12);\n    i0.ɵɵtext(24, \" STUDENT NAME : \");\n    i0.ɵɵelementStart(25, \"b\");\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"span\", 12);\n    i0.ɵɵtext(28, \" UNUMBER : \");\n    i0.ɵɵelementStart(29, \"b\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"span\", 12);\n    i0.ɵɵtext(32, \" ADVISOR _________________\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 6)(34, \"span\", 13);\n    i0.ɵɵtext(35, \" CONCENTRATION : \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"span\", 14)(37, \"label\", 15);\n    i0.ɵɵtext(38, \" Cybersecurity \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(39, \"input\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"span\", 17)(41, \"label\", 15);\n    i0.ɵɵtext(42, \" Information Systems \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(43, \"input\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"span\", 14)(45, \"label\", 15);\n    i0.ɵɵtext(46, \" Scientific \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(47, \"input\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"span\", 14)(49, \"label\", 15);\n    i0.ɵɵtext(50, \" Mobile \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(51, \"input\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(52, \"div\", 6);\n    i0.ɵɵtemplate(53, BalanceSheetComponent_ng_template_0_span_53_Template, 18, 4, \"span\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(54, \"br\");\n    i0.ɵɵelementStart(55, \"div\", 19)(56, \"span\", 20)(57, \"span\", 21);\n    i0.ɵɵtext(58, \" Approved _______________________________ \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"span\", 22);\n    i0.ɵɵtext(60, \"Advisor, Computer Science\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(61, \"span\", 23);\n    i0.ɵɵtext(62, \" Date _________________\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"span\", 20)(64, \"span\", 21);\n    i0.ɵɵtext(65, \" Approved _______________________________ \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(66, \"span\", 22);\n    i0.ɵɵtext(67, \"Chair, Computer Science\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(68, \"span\", 23);\n    i0.ɵɵtext(69, \" Date _________________\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(70, \"br\");\n    i0.ɵɵelementStart(71, \"div\", 19)(72, \"span\", 20)(73, \"span\", 21);\n    i0.ɵɵtext(74, \" Approved _______________________________ \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(75, \"span\", 22);\n    i0.ɵɵtext(76, \"Undergraduate Coordinator\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(77, \"span\", 23);\n    i0.ɵɵtext(78, \" Date _________________\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(79, \"span\", 20)(80, \"span\", 21);\n    i0.ɵɵtext(81, \" Approved _______________________________ \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(82, \"span\", 24);\n    i0.ɵɵtext(83, \"Dean, College of Sciences & Engineering\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(84, \"span\", 23);\n    i0.ɵɵtext(85, \" Date _________________\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(86, \"div\", 25)(87, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function BalanceSheetComponent_ng_template_0_Template_button_click_87_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.convetToPDF());\n    });\n    i0.ɵɵtext(88, \" Print \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(89, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function BalanceSheetComponent_ng_template_0_Template_button_click_89_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.hide());\n    });\n    i0.ɵɵtext(90, \" Close \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(26);\n    i0.ɵɵtextInterpolate(ctx_r1.studentName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.UNumber);\n    i0.ɵɵadvance(23);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.courseInfo2);\n  }\n}\nexport class BalanceSheetComponent {\n  constructor(studentInfoService, modalService, el) {\n    this.studentInfoService = studentInfoService;\n    this.modalService = modalService;\n    this.el = el;\n    this.courses = [{\n      'name': 'CMPS Seminar I',\n      'csno': '110B',\n      'hr': '3',\n      'gr': '3.7',\n      'sem': '3',\n      'yr': '2022'\n    }, {\n      'name': 'CMPS Seminar II',\n      'csno': '110B',\n      'hr': '3',\n      'gr': '3.7',\n      'sem': '3',\n      'yr': '2022'\n    }, {\n      'name': 'Discrete Structures',\n      'csno': '110B',\n      'hr': '3',\n      'gr': '3.7',\n      'sem': '3',\n      'yr': '2022'\n    }, {\n      'name': 'Data Structures',\n      'csno': '110B',\n      'hr': '3',\n      'gr': '3.7',\n      'sem': '3',\n      'yr': '2022'\n    }, {\n      'name': 'Java',\n      'csno': '110B',\n      'hr': '3',\n      'gr': '3.7',\n      'sem': '3',\n      'yr': '2022'\n    }];\n    this.studentData = {};\n    this.concentrationInfo = new Map();\n    this.concentrations = [];\n    this.triggerRefresh = new EventEmitter();\n    // downloadReports(): void {\n    //         this.studentInfoService.reportDownloadUrl().subscribe((data) => {\n    //           const studentReport = new Blob([data], {\n    //             type: 'application/pdf'\n    //           });\n    //           const fileURL = URL.createObjectURL(studentReport);\n    //           window.open(fileURL, '_blank');\n    //         });\n    //       }\n    this.keepOrder = (a, b) => {\n      return 0;\n    };\n  }\n  ngOnInit() {\n    this.getConcentrations();\n  }\n  showModal(uNumber) {\n    this.getStudentInfo(uNumber);\n    this.modalRef = this.modalService.show(this.balanceSheetModal, {\n      class: '',\n      ignoreBackdropClick: true\n    });\n  }\n  getStudentInfo(uNumber) {\n    this.studentInfoService.getStudentInfo(uNumber).subscribe(data => {\n      if (data.statusCode === 'SUCCESS') {\n        for (const eachCourse of data.response.courses) {\n          if (eachCourse.concentrationCode === 1015) {\n            this.concentrationInfo[1015].courses.push(eachCourse);\n            continue;\n          }\n          this.concentrationInfo[eachCourse.concentrationCode].courses[eachCourse.courseId] = eachCourse;\n        }\n        this.concentrations = Object.values(this.concentrationInfo);\n        this.studentName = data.response.firstName;\n        this.UNumber = data.response.unumber;\n        this.getSize();\n        console.log(this.concentrations);\n      } else {\n        console.log(data.message);\n      }\n    });\n  }\n  getConcentrations() {\n    this.studentInfoService.getConcentrationInfo().subscribe(data => {\n      if (data.statusCode === 'SUCCESS') {\n        this.concentrationInfo = data.response;\n        this.concentrationInfo[1015].courses = [];\n        this.concentrationInfo[1015].name = 'OTHERS';\n      } else {\n        console.log(data.message);\n      }\n    });\n  }\n  getSize() {\n    let total = 0;\n    this.courseInfo2 = new Array();\n    this.courseInfo = new Map();\n    for (const each of this.concentrations) {\n      this.courseInfo.set(each.name, []);\n      for (let [key, value] of Object.entries(each.courses)) {\n        total++;\n        this.courseInfo.get(each.name).push(value);\n        if (total % 35 === 0) {\n          this.courseInfo2.push(this.courseInfo);\n          this.courseInfo = new Map();\n          this.courseInfo.set(each.name, []);\n          total = 0;\n        }\n      }\n    }\n    this.courseInfo2.push(this.courseInfo);\n    this.firstTwoElements = this.courseInfo2.slice(0, 2);\n    this.remainingElements = this.courseInfo2.slice(2);\n    console.log(this.courseInfo2);\n  }\n  convetToPDF() {\n    html2canvas(document.querySelector(\".balanceSheetPrint\"), {\n      scale: 2\n    }).then(canvas => {\n      document.body.appendChild(canvas);\n    });\n    // html2canvas(document.getElementById(\"balanceSheetPrint\")).then(canvas => {\n    //   // Few necessary setting options\n    //   var imgWidth = 208;\n    //   var pageHeight = 295;\n    //   var imgHeight = canvas.height * imgWidth / canvas.width;\n    //   var heightLeft = imgHeight;\n    //   const contentDataURL = canvas.toDataURL('image/png')\n    //   let pdf = new jspdf('p', 'mm', 'a4'); // A4 size page of PDF\n    //   var position = 0;\n    //   pdf.addImage(contentDataURL, 'PNG', 0, position, imgWidth, imgHeight)\n    //   pdf.save('new-file.pdf'); // Generated PDF\n    //   });\n  }\n\n  hide() {\n    if (this.modalRef) {\n      this.modalRef.hide();\n    }\n    this.triggerRefresh.emit();\n    this.getConcentrations();\n  }\n}\n_class = BalanceSheetComponent;\n_class.ɵfac = function BalanceSheetComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.StudentInfoService), i0.ɵɵdirectiveInject(i2.BsModalService), i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-balance-sheet\"]],\n  viewQuery: function BalanceSheetComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.balanceSheetModal = _t.first);\n    }\n  },\n  outputs: {\n    triggerRefresh: \"triggerRefresh\"\n  },\n  decls: 2,\n  vars: 0,\n  consts: [[\"balanceSheetModal\", \"\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn\", \"close\", \"pull-right\", 2, \"width\", \"35px\", \"margin-left\", \"963px\", \"text-align\", \"center\", \"padding-right\", \"0px\", \"padding-left\", \"0px\", \"background-color\", \"#afd6f9\", 3, \"click\"], [\"aria-hidden\", \"true\"], [\"id\", \"balanceSheetPrint\"], [1, \"container-fluid\"], [2, \"margin-bottom\", \"2.5cm\", \"margin-left\", \"1.5cm\", \"margin-right\", \"1.5cm\"], [1, \"row\"], [2, \"font-size\", \"15px\", \"text-align\", \"center\", \"margin-top\", \"1.5cm\"], [1, \"col-md-3\", \"text-center\"], [\"src\", \"../assets/CMPSLogo.png\", \"width\", \"100\", \"height\", \"30\"], [1, \"col-md-6\", 2, \"font-size\", \"15px\", \"text-align\", \"center\", \"padding-top\", \"4px\"], [2, \"font-size\", \"15px\", \"text-align\", \"center\"], [1, \"col-md-4\", 2, \"text-align\", \"center\", \"font-size\", \"12px\"], [1, \"col-md-2\", 2, \"text-align\", \"right\", \"font-size\", \"12px\"], [1, \"col-md-2\", 2, \"text-align\", \"center\", \"font-size\", \"12px\"], [\"for\", \"flexCheckDisabled\", 1, \"form-check-label\", 2, \"margin-right\", \"5px\"], [\"type\", \"checkbox\", \"value\", \"\", 1, \"form-check-input\"], [1, \"col-md-3\", 2, \"text-align\", \"center\", \"font-size\", \"12px\"], [\"class\", \"col-md-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", 2, \"font-size\", \"10px\"], [1, \"col-md-3\"], [1, \"row\", 2, \"text-align\", \"center\", \"margin-left\", \"0px\", \"margin-right\", \"0px\"], [1, \"row\", 2, \"text-align\", \"center\", \"padding-left\", \"60px\", \"margin-right\", \"0px\"], [1, \"col-md-3\", 2, \"text-align\", \"center\", \"padding-top\", \"2px\"], [1, \"row\", 2, \"text-align\", \"center\", \"padding-left\", \"40px\", \"margin-right\", \"0px\"], [2, \"padding-left\", \"370px\", \"margin-bottom\", \"20px\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-sm\", \"btnW\", 2, \"width\", \"20px\", \"background-color\", \"#ffc107\", \"border-color\", \"#ffc107\", \"color\", \"rgba(0, 23, 56, 0.9)\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-sm\", \"btnW\", 2, \"width\", \"20px\", \"background-color\", \"#afd6f9\", \"border-color\", \"#afd6f9\", \"color\", \"rgba(0, 23, 56, 0.9)\", \"margin-left\", \"15px\", 3, \"click\"], [1, \"col-md-6\"], [1, \"tab\", 2, \"width\", \"100%\", \"font-size\", \"10px\"], [2, \"text-align\", \"center\"], [\"width\", \"50%\"], [\"width\", \"15%\"], [\"width\", \"5%\"], [\"width\", \"10%\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"]],\n  template: function BalanceSheetComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, BalanceSheetComponent_ng_template_0_Template, 91, 3, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i3.KeyValuePipe],\n  encapsulation: 2\n});","map":{"version":3,"names":["EventEmitter","html2canvas","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","item_r5","key","course_r9","value","ɵɵtemplate","BalanceSheetComponent_ng_template_0_span_53_tbody_16_tr_1_Template","BalanceSheetComponent_ng_template_0_span_53_tbody_16_tr_2_Template","ɵɵproperty","length","ɵɵpipeBind1","BalanceSheetComponent_ng_template_0_span_53_tbody_16_Template","ɵɵpipeBind2","eachConc_r3","ctx_r2","keepOrder","ɵɵlistener","BalanceSheetComponent_ng_template_0_Template_button_click_0_listener","ɵɵrestoreView","_r11","ctx_r10","ɵɵnextContext","ɵɵresetView","hide","ɵɵelement","BalanceSheetComponent_ng_template_0_span_53_Template","BalanceSheetComponent_ng_template_0_Template_button_click_87_listener","ctx_r12","convetToPDF","BalanceSheetComponent_ng_template_0_Template_button_click_89_listener","ctx_r13","ctx_r1","studentName","UNumber","courseInfo2","BalanceSheetComponent","constructor","studentInfoService","modalService","el","courses","studentData","concentrationInfo","Map","concentrations","triggerRefresh","a","b","ngOnInit","getConcentrations","showModal","uNumber","getStudentInfo","modalRef","show","balanceSheetModal","class","ignoreBackdropClick","subscribe","data","statusCode","eachCourse","response","concentrationCode","push","courseId","Object","values","firstName","unumber","getSize","console","log","message","getConcentrationInfo","name","total","Array","courseInfo","each","set","entries","get","firstTwoElements","slice","remainingElements","document","querySelector","scale","then","canvas","body","appendChild","emit","ɵɵdirectiveInject","i1","StudentInfoService","i2","BsModalService","ElementRef","selectors","viewQuery","BalanceSheetComponent_Query","rf","ctx","BalanceSheetComponent_ng_template_0_Template","ɵɵtemplateRefExtractor"],"sources":["C:\\Users\\julak\\Downloads\\Archive\\CMPS UI\\src\\app\\balanceSheet\\balance-sheet.component.ts","C:\\Users\\julak\\Downloads\\Archive\\CMPS UI\\src\\app\\balanceSheet\\balance-sheet.component.html"],"sourcesContent":["import { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { StudentInfoService } from '../../shared/service/student/student-info.service';\nimport { Concentration } from 'src/shared/models/concentration.model';\nimport { Course } from 'src/shared/models/course.model';\nimport jspdf from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';\n\n@Component({\n  selector: 'app-balance-sheet',\n  templateUrl: './balance-sheet.component.html',\n})\nexport class BalanceSheetComponent {\n  \n  courses : any = [ {'name' : 'CMPS Seminar I', 'csno' : '110B', 'hr' : '3', 'gr' : '3.7', 'sem' : '3', 'yr' : '2022'}, \n  {'name' : 'CMPS Seminar II', 'csno' : '110B', 'hr' : '3', 'gr' : '3.7', 'sem' : '3', 'yr' : '2022'},\n  {'name' : 'Discrete Structures', 'csno' : '110B', 'hr' : '3', 'gr' : '3.7', 'sem' : '3', 'yr' : '2022'},\n  {'name' : 'Data Structures', 'csno' : '110B', 'hr' : '3', 'gr' : '3.7', 'sem' : '3', 'yr' : '2022'},\n  {'name' : 'Java', 'csno' : '110B', 'hr' : '3', 'gr' : '3.7', 'sem' : '3', 'yr' : '2022'}];\n\n  studentData : any = {};\n  concentrationInfo: Map<number, Concentration> = new Map<number, Concentration>();\n  concentrations : any = [];\n  courseInfo : Map<String, Array<Object>>;\n  courseInfo2 : Array<Map<String, Array<Object>>>;\n  modalRef: BsModalRef;\n  studentName: '';\n  UNumber: '';\n  firstTwoElements : Array<Map<String, Array<Object>>>;\n  remainingElements: Array<Map<String, Array<Object>>>;\n\n\n  @ViewChild('balanceSheetModal') balanceSheetModal: any;\n  @Output() triggerRefresh = new EventEmitter<any>();\n\n  constructor(private studentInfoService : StudentInfoService,\n    private modalService: BsModalService,\n    private el: ElementRef\n  ) { }\n\n  ngOnInit() {\n    this.getConcentrations();\n  }\n\n  showModal(uNumber: string) {\n    this.getStudentInfo(uNumber);\n    this.modalRef = this.modalService.show(\n      this.balanceSheetModal,\n      {\n        class: '',\n        ignoreBackdropClick: true\n      }\n    );\n  }\n\n  getStudentInfo(uNumber: string): void {\n    this.studentInfoService.getStudentInfo(uNumber).subscribe((data) => {\n      if (data.statusCode === 'SUCCESS') {\n        for (const eachCourse of data.response.courses) {\n          if(eachCourse.concentrationCode === 1015){\n            this.concentrationInfo[1015].courses.push(eachCourse);\n            continue;\n          }\n          this.concentrationInfo[eachCourse.concentrationCode].courses[eachCourse.courseId] = eachCourse;\n        }\n        this.concentrations = Object.values(this.concentrationInfo);\n        this.studentName = data.response.firstName;\n        this.UNumber = data.response.unumber;\n        this.getSize();\n        console.log(this.concentrations);\n      } else {\n        console.log(data.message);\n      }\n    });\n  }\n\n  getConcentrations(): void {\n    this.studentInfoService.getConcentrationInfo().subscribe((data) => {\n      if (data.statusCode === 'SUCCESS') {\n        this.concentrationInfo = data.response;\n        this.concentrationInfo[1015].courses= [];\n        this.concentrationInfo[1015].name = 'OTHERS';\n      } else {\n        console.log(data.message);\n      }\n    });\n}\n\n  getSize(): void {\n    let total = 0;\n    this.courseInfo2 = new Array();\n    this.courseInfo = new Map();\n    for (const each of this.concentrations) {\n      this.courseInfo.set(each.name, []);\n      for (let [key, value] of Object.entries(each.courses)) {\n        total++;\n        this.courseInfo.get(each.name).push(value);\n        if (total % 35 === 0) {\n          this.courseInfo2.push(this.courseInfo);\n          this.courseInfo = new Map();\n          this.courseInfo.set(each.name, []);\n          total = 0;\n        }\n     }\n    }\n    this.courseInfo2.push(this.courseInfo);\n    this.firstTwoElements = this.courseInfo2.slice(0, 2);\n    this.remainingElements = this.courseInfo2.slice(2);\n    console.log(this.courseInfo2);\n  }\n\n  public convetToPDF(){\n    html2canvas(document.querySelector(\".balanceSheetPrint\"), { scale: 2 }).then(\n      (canvas) => {\n        document.body.appendChild(canvas);\n      }\n    );\n    // html2canvas(document.getElementById(\"balanceSheetPrint\")).then(canvas => {\n    //   // Few necessary setting options\n    //   var imgWidth = 208;\n    //   var pageHeight = 295;\n    //   var imgHeight = canvas.height * imgWidth / canvas.width;\n    //   var heightLeft = imgHeight;\n      \n    //   const contentDataURL = canvas.toDataURL('image/png')\n    //   let pdf = new jspdf('p', 'mm', 'a4'); // A4 size page of PDF\n    //   var position = 0;\n    //   pdf.addImage(contentDataURL, 'PNG', 0, position, imgWidth, imgHeight)\n    //   pdf.save('new-file.pdf'); // Generated PDF\n    //   });\n    }\n\n  hide(): void {\n    if (this.modalRef) {\n      this.modalRef.hide();\n    }\n    this.triggerRefresh.emit();\n    this.getConcentrations();\n   }\n\n  // downloadReports(): void {\n\n  //         this.studentInfoService.reportDownloadUrl().subscribe((data) => {\n  //           const studentReport = new Blob([data], {\n  //             type: 'application/pdf'\n  //           });\n  //           const fileURL = URL.createObjectURL(studentReport);\n  //           window.open(fileURL, '_blank');\n  //         });\n  //       }\n\n  keepOrder = (a, b) => {\n    return 0;\n  };\n\n}","<ng-template #balanceSheetModal>\n    <button type=\"button\" class=\"btn close pull-right\" style=\"width: 35px;\n    margin-left: 963px;\n    text-align: center;\n    padding-right: 0px;\n    padding-left: 0px;background-color: #afd6f9;\" aria-label=\"Close\" (click)=\"hide()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  <div id=\"balanceSheetPrint\">\n  <div class=\"container-fluid\">\n    <div\n      style=\"margin-bottom: 2.5cm; margin-left: 1.5cm; margin-right: 1.5cm\"\n    >\n      <div class=\"row\">\n        <span style=\"font-size: 15px; text-align: center; margin-top: 1.5cm\">\n          <b>Southern University Department of Computer Science</b></span\n        >\n      </div>\n      <div class=\"row\">\n          <span class=\"col-md-3 text-center\">\n                  <a>\n                    <img src=\"../assets/CMPSLogo.png\" width=\"100\" height=\"30\"/>\n                  </a>\n          </span>\n        <span class=\"col-md-6\" style=\"font-size: 15px; text-align: center;padding-top: 4px;\">\n          <b>Bachelor of Science in Computer Science</b></span\n        >\n        \n      </div>\n      <div class=\"row\">\n        <span style=\"font-size: 15px; text-align: center\">\n          <b>2018-2021 Balance Sheet</b></span\n        >\n      </div><br/>\n      <div class=\"row\">\n        <span class=\"col-md-4\" style=\"text-align: center;font-size: 12px;\">\n          STUDENT NAME : <b>{{studentName}}</b></span\n        >\n        <span class=\"col-md-4\" style=\"text-align: center;font-size: 12px\">\n          UNUMBER : <b>{{UNumber}}</b></span\n        >\n        <span class=\"col-md-4\" style=\"text-align: center;font-size: 12px\">\n          ADVISOR _________________</span\n        >\n      </div>\n      <div class=\"row\">\n        <span class=\"col-md-2\" style=\"text-align: right; font-size: 12px\">\n          CONCENTRATION :\n        </span>\n        <span class=\"col-md-2\" style=\"text-align: center; font-size: 12px\">\n          <label\n            class=\"form-check-label\"\n            for=\"flexCheckDisabled\"\n            style=\"margin-right: 5px\"\n          >\n            Cybersecurity\n          </label>\n          <input class=\"form-check-input\" type=\"checkbox\" value=\"\" />\n        </span>\n        <span class=\"col-md-3\" style=\"text-align: center; font-size: 12px\">\n          <label\n            class=\"form-check-label\"\n            for=\"flexCheckDisabled\"\n            style=\"margin-right: 5px\"\n          >\n            Information Systems\n          </label>\n          <input class=\"form-check-input\" type=\"checkbox\" value=\"\" />\n        </span>\n        <span class=\"col-md-2\" style=\"text-align: center; font-size: 12px\">\n          <label\n            class=\"form-check-label\"\n            for=\"flexCheckDisabled\"\n            style=\"margin-right: 5px\"\n          >\n            Scientific\n          </label>\n          <input class=\"form-check-input\" type=\"checkbox\" value=\"\" />\n        </span>\n        <span class=\"col-md-2\" style=\"text-align: center; font-size: 12px\">\n          <label\n            class=\"form-check-label\"\n            for=\"flexCheckDisabled\"\n            style=\"margin-right: 5px\"\n          >\n            Mobile\n          </label>\n          <input class=\"form-check-input\" type=\"checkbox\" value=\"\" />\n        </span>\n      </div>\n      <div class=\"row\">\n        <span class=\"col-md-6\" *ngFor=\"let eachConc of courseInfo2\">\n          <table class=\"tab\" style=\"width: 100%; font-size: 10px\">\n            <thead>\n              <tr style=\"text-align: center\">\n                <th width=\"50%\">COURSE TITLE</th>\n                <th width=\"15%\">CS No</th>\n                <th width=\"5%\">HR</th>\n                <th width=\"10%\">GR</th>\n                <th width=\"10%\">SEM</th>\n                <th width=\"10%\">YR</th>\n              </tr>\n            </thead>\n            <tbody *ngFor=\"let item of eachConc | keyvalue: keepOrder\">\n              <tr *ngIf=\"item.value.length !== 0\">\n                <b>{{ item.key }}</b>\n              </tr>\n              <tr *ngFor=\"let course of item.value | keyvalue\" >\n                <td>{{ course.value[\"courseName\"] }}</td>\n                <td style=\"text-align: center\">{{ course.value[\"courseId\"] }}</td>\n                <td style=\"text-align: center\">{{ course.value[\"hours\"] }}</td>\n                <td style=\"text-align: center\">{{ course.value[\"grade\"] }}</td>\n                <td style=\"text-align: center\">{{ course.value[\"semester\"] }}</td>\n                <td style=\"text-align: center\">{{ course.value[\"year\"] }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </span>\n      </div>\n      <br />\n      <div class=\"row\" style=\"font-size: 10px;\">\n        <span class=\"col-md-3\">\n          <span\n            class=\"row\"\n            style=\"\n              text-align: center;\n              margin-left: 0px;\n              margin-right: 0px;\n            \"\n          >\n            Approved _______________________________\n          </span>\n          <span\n            class=\"row\"\n            style=\"\n              text-align: center;\n              padding-left: 60px;\n              margin-right: 0px;\n            \"\n            >Advisor, Computer Science</span\n          >\n        </span>\n        <span class=\"col-md-3\" style=\"text-align: center;padding-top: 2px;\">\n          Date _________________</span\n        >\n        <span class=\"col-md-3\">\n          <span\n            class=\"row\"\n            style=\"\n              text-align: center;\n              margin-left: 0px;\n              margin-right: 0px;\n            \"\n          >\n            Approved _______________________________\n          </span>\n          <span\n            class=\"row\"\n            style=\"\n              text-align: center;\n              padding-left: 60px;\n              margin-right: 0px;\n            \"\n            >Chair, Computer Science</span\n          >\n        </span>\n        <span class=\"col-md-3\" style=\" text-align: center;padding-top: 2px;\">\n          Date _________________</span\n        >\n      </div>\n      <br/>\n      <div class=\"row\" style=\"font-size: 10px\">\n        <span class=\"col-md-3\">\n          <span\n            class=\"row\"\n            style=\"\n              text-align: center;\n              margin-left: 0px;\n              margin-right: 0px;\n            \"\n          >\n            Approved _______________________________\n          </span>\n          <span\n            class=\"row\"\n            style=\"\n              text-align: center;\n              padding-left: 60px;\n              margin-right: 0px;\n            \"\n            >Undergraduate Coordinator</span\n          >\n        </span>\n        <span class=\"col-md-3\" style=\"text-align: center;padding-top: 2px;\">\n          Date _________________</span\n        >\n        <span class=\"col-md-3\">\n          <span\n            class=\"row\"\n            style=\"\n              text-align: center;\n              margin-left: 0px;\n              margin-right: 0px;\n            \"\n          >\n            Approved _______________________________\n          </span>\n          <span\n            class=\"row\"\n            style=\"\n              text-align: center;\n              padding-left: 40px;\n              margin-right: 0px;\n            \"\n            >Dean, College of Sciences & Engineering</span\n          >\n        </span>\n        <span class=\"col-md-3\" style=\" text-align: center;padding-top: 2px;\">\n          Date _________________</span\n        >\n      </div>\n    </div>\n  </div>\n</div>\n<div style=\"padding-left: 370px;margin-bottom: 20px;\">\n  <button type=\"submit\" (click)=\"convetToPDF()\" class=\"btn btn-primary btn-sm btnW\"  \n  style=\"width: 20px; background-color: #ffc107;border-color: #ffc107;color: rgba(0, 23, 56, 0.9);\">\n    Print\n  </button>\n  <button type=\"submit\" (click)=\"hide()\" class=\"btn btn-primary btn-sm btnW\"  \n  style=\"width: 20px; background-color: #afd6f9;border-color: #afd6f9;color: rgba(0, 23, 56, 0.9);margin-left: 15px;\">\n    Close\n  </button>\n</div>\n</ng-template>\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}